<!-- print.view -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html>
<head>
	<title>jRendezvous: Java and Rendezvous Working Together - O'Reilly Media</title>
	<meta name="keywords" content="Mac OS X,jRendezvous,Java,Zeroconf,Strangeberry,networking,O'Reilly Media" />
	<meta name="description" content="A look at the implementation of Rendezvous for Java, called jRendezvous, that allows Java programs running anywhere (not just Mac OS X) to participate in Rendezvous networks. " />
	<meta name="date" content="Jul. 29, 2003" />
	<meta name="search_date" content="2003-07-29" />
	<meta name="pagename" content="jRendezvous: Java and Rendezvous Working Together" />
	<meta name="site" content="MacDevCenter.com" />
	<meta name="subtitle" content="" />
	<meta name="author" content="Seth Ladd" />
<meta name="target" content="" />


<!-- feed autodiscovery links -->
<link rel="alternate" type="application/rss+xml" title="Mac DevCenter Articles and Weblogs" 
href="http://feeds2.feedburner.com/oreilly/digitalmedia/mac" />

<!-- sc/388 Common JavaScript -->
<script language="JavaScript" type="text/javascript" src="http://www.oreillynet.com/common.js"></script>

<script language="JavaScript" type="text/javascript" src="http://content.atomz.com/pb000035c5/publish/assets/js/common.js"></script>

<link rel="STYLESHEET" type="text/css" href="http://www.oreillynet.com/styles/main.css" />
<!-- path_info: /a/mac/2003/07/29/jrendezvous.html -->
<!-- table: a - ref_id: /mac/2003/07/29/jrendezvous.html -->
<!-- table: a - ref_id: /mac/2003/07/29/jrendezvous.html -->
<!-- table: a - ref_id: /mac/2003/07/29/jrendezvous.html - cs_rid: 4055 -->
<!-- 0 domain: www.macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 1 domain: www.macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 2 domain: www.macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 3 domain: www.macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 4 domain: macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 5 domain: macdevcenter - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 6 domain: macdevcenter - path_info: a/mac/2003/07/29/jrendezvous.html s_channel: network -->
<!-- 7 domain: macdevcenter - path_info: a/mac/2003/07/29/jrendezvous.html -->
<!-- 8 domain: www.macdevcenter.com - path_info: a/mac/2003/07/29/jrendezvous.html -->

<script language="JavaScript" type="text/javascript"><!--
var s_account="ornetwork,orglobal"
//--></script>
<!-- SiteCatalyst code version: H.20.2. Copyright 1997-2009 Omniture, Inc. More info available at http://www.omniture.com  -->
<script language="JavaScript" type="text/javascript" src="http://assets.oreilly.com/js/s_code.js"></script>
<script language="JavaScript" type="text/javascript"><!--
s.pageName="network:macdev:jrendezvous java and rendezvous working together"
s.channel="network"
s.prop1="network:macdev"
s.prop2="network:macdev"
s.prop3="network:macdev"
s.prop4="article"
s.prop5="jrendezvous java and rendezvous working together"
s.prop6="n/a/4055"
s.prop24="07/29/2003"
s.prop21="seth ladd"
s.hier1="network,macdev"
/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)//--></script>
<!-- End SiteCatalyst code version: H.20.2. -->
<!-- analytics.pl: 2010/12/17 13:31:22 -->





<script type="text/javascript" src="http://www.oreillynet.com/tabber.js"></script>

<!-- additional css -->
<link rel="stylesheet" type="text/css" href="http://www.oreillynet.com/styles/articles.css" />
<base href="http://www.macdevcenter.com" />

<!--Autocomplete for guided search -->
          <script type="text/javascript" src="http://content.atomz.com/static/ac/1.0/autocomplete.js"></script>
          <link rel="stylesheet" type="text/css" href="http://content.atomz.com/pb000035c5/publish/autocompletestyles.css">

 <!--Autocomplete-->


</head>
<body id="mac">
<div id="page">
<div id="header" class="noindex">
<h1><a href="http://www.macdevcenter.com"><img src="/mac/graphics/macdevcenter_logo.gif" border="0" alt="macdevcenter.com" width="202" height="88" /></a></h1>

<!-- tabs -->
<div id="tabs">
<div class="noindex" style="white-space:nowrap;float:left;width:435px;"><a href="http://www.oreilly.com/"><img src="/images/tabs/ora_gray.gif" alt="oreilly.com" width="82" height="16" hspace="0" vspace="0" border="0" /></a><a href="http://safari.oreilly.com/"><img src="http://oreilly.com/images/oreilly/safaribooksonline_gray.gif" alt="Safari Books Online." width="114" height="16" hspace="0" vspace="0" border="0" /></a><a href="http://conferences.oreilly.com/"><img src="/images/tabs/conf_gray.gif" alt="Conferences." width="88" height="16" hspace="0" vspace="0" border="0" /></a></div>

<!-- div class="noindex tiny" style="white-space: nowrap;float:right;width:195px;"><a href="/cs/user/login?x-redirect=/cs/user/home">Sign In/My Account</a> | <a href="http://epoch.oreilly.com/shop/cart.orm">View Cart</a>&nbsp;&nbsp;&nbsp;</div>
</div -->

<!--
<csinclude record="sc/1301" field="html">-->
</div>


<!-- New Search -->

<div id="newsearch">




<style type="text/css">

#search-box {
background-color:#F6F6F6;
border-bottom:1px solid #CCCCCC;
padding-top:11px;
text-align:center;
}
#search-form {
margin:0pt auto;
text-align:left;
width:400px;
}
#search-title {
color:#888888;
display:block;
float:left;
font-size:17px;
padding:5px 5px 4px 0pt;
}
#search-input {
background:transparent url(http://www.oreilly.com/images/oreilly/search_bar_mid.gif) repeat-y scroll left top;
display:block;
float:left;
padding:0pt 5px 0pt 0pt;
width:260px;
}
#search-input-top {
background:transparent url(http://www.oreilly.com/images/oreilly/search_bar_top.gif) no-repeat scroll left top;
display:block;
width:260px;
}
#search-input-bot {
background:transparent url(http://www.oreilly.com/images/oreilly/search_bar_bot.gif) no-repeat scroll left bottom;
display:block;
width:260px;
}
#search-field {
float:left;
}
#search-field input {
background:transparent none repeat scroll 0%;
border:0pt none;
color:#990000;
font-family:Verdana,Arial,Helvetica,sans-serif;
font-size:16px;
margin:0pt;
padding:3px 0pt 4px 10px;
width:215px;
}
#search-field input:focus {
outline-color:invert;
outline-style:none;
outline-width:0pt;
}
#search-button {
float:right;
}
#search-button input {
font-size:0pt;
height:18px;
line-height:0pt;
margin:4px 4px 2px 0pt;
padding:0pt;
width:28px;
}
#search-tips {
display:block;
float:left;
font-size:10px;
padding:6px 0pt 0pt;
}
#search label {
text-transform:uppercase;
}
#search legend {
display:none;
}
#search label {
left:-9999px;
position:absolute;
}
fieldset {
border:0pt none;
margin:0pt;
padding:0pt;
}
.clear {
display:block;
line-height:0pt;
}
#wrapper {
margin:1em 0pt 2em 19em;
overflow:hidden;
}
#features {
float:left;
margin:0pt;
padding:0pt 2em 0pt 0pt;
width:41em;


#search-box{

padding-top: 11px;

padding-bottom: 0pt;

background-color: #f6f6f6;

border-bottom-width: 1px;

border-top-style: solid;

border-top-width: 1px;

border-top-color: #cccccc;

border-bottom-style: solid;

border-bottom-color: #cccccc;

text-align: center;

}

</style>

<div id="search-box">



<div>



<br />
<b>
We've expanded our Mac news coverage</a> and improved our search! </b> Search for all things Mac across O'Reilly!

<br /><br />

</div>

 <div id="search-box" class="yui-skin-sam">

            <form method="get" action="http://search.oreilly.com" id="search-form" name="searchfield">
                <fieldset>



                    <span id="search-title" style="color:#474747">Search</span>
                    <span id="search-input">
                        <span id="search-input-top">
                            <span id="search-input-bot">
                                <span id="search-field"><input style="//height: 25px;" id="q" name="q" type="text" maxlength="64" accesskey="s" value="" /></span>
                                <span id="search-button"><input type="image" name="submit" src="http://www.oreilly.com/images/oreilly/search_bar_btn.gif" alt="Submit" onclick="return searchverif();" /></span>
                                <span class="clear"></span>
                            </span>
    </span>
                    </span>
                            
                   
                    <span id="search-tips"><a href="http://www.oreillynet.com/search/tips.csp" target="_blank">Search Tips</a></span>
                </fieldset>
            </form>

<br />
        </div><!-- /#search-box -->
</center>
</div>


<div id="leaderboard">
<img src="http://www.oreillynet.com/images/ads/ad-tag-vertical.gif" width="11" height="90" border="0" alt="advertisement" style="float:right;"/>

<div style="width:728px;margin:0 auto;">
<!-- Network Leaderboard Ad -->

<!--JavaScript Tag // Tag for network 5159: TechVertical // Website: O'ReillyNet // Page: O'ReillyNet // Placement: ros_728x90 (425845) // created at: Oct 9, 2008 6:10:32 PM-->
<script language="javascript"><!--
document.write('<scr'+'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5159/425845/0/225/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc='+new Date().getTime()+'"></scri'+'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5159/425845/0/225/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5159/425845/0/225/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="728" height="90"></a></noscript>

<!-- End of JavaScript Tag -->
<!-- end ad -->

</div>
</div> <!-- end leaderboard -->


<!-- textbar -->
<div id="colored-bar-ad" class="tinywhite" align="center" style="background-color:#660099;">
<div class="tinywhite" style="vertical-align:middle;padding-top:3px;">
<!-- Network Text Link -->


<!-- End ad -->
</div>
</div>
<!-- textbar end -->


<!--ad co="dc" site="macdevcenter" page="macart" width="550" height="21"-->
</div>
</div> <!-- end header -->

<div id="page-content">
<div id="article">

<!-- feature bar ad : layout component 1894 -->

<div align="center" style="visibility: hidden">
<!-- begin ad tag -->

<!--JavaScript Tag // Tag for network 5159: TechVertical // Website: O'ReillyNet // Page: O'ReillyNet // Placement: text (425846) // created at: Oct 9, 2008 6:10:33 PM-->
<script language="javascript"><!--
document.write('<scr'+'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5159/425846/0/16/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc='+new Date().getTime()+'"></scri'+'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5159/425846/0/16/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5159/425846/0/16/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="1" height="1"></a></noscript>
<!-- End of JavaScript Tag -->


<!-- End ad tag -->
</div>

<!-- end feature bar ad -->
<br />



<a href="http://www.addthis.com/bookmark.php" onclick="addthis_url   = location.href; addthis_title = document.title; return addthis_click(this);" target="_blank"><img src="http://s5.addthis.com/button1-bm.gif" width="125" height="16" border="0" alt="AddThis Social Bookmark Button" /></a> <script type="text/javascript">var addthis_pub = 'odewahn';</script><script type="text/javascript" src="http://s5.addthis.com/js/widget.php?v=10"></script>  

<p>

<!-- begin content-->









<!-- begin  print-discuss-del.icio.us options -->
<div style="margin: 0px 10px 0px 6px;">
<div style="float: right; width: 170px;">

<a class="print" title="Go to a print-friendly version of this page." href="/lpt/a/4055">Print</a>
<!--csif cond="yes">
<a class="discuss" title="Join the talkback discussion about this article" href="/pub/a/mac/2003/07/29/jrendezvous.html?page=last#thread">Discuss</a>
</csif-->


















<a class="subscribe" title="Subscribe" href="http://www.oreillynet.com/pub/feed/3">Subscribe to Mac</a>





<a class="newsletter" href="http://www.oreillynet.com/cs/nl/home">Subscribe to Newsletters</a>

<div id="share-options" style="text-align:right;">
<script type="text/javascript" src="http://w.sharethis.com/button/sharethis.js#publisher=16098316-763b-41fc-a31d-7bbadcfcf894&amp;type=website&amp;embeds=true&amp;style=rotate&amp;send_services=email%2Caim%2Csms&amp;post_services=twitter%2Cfriendfeed%2Cfacebook%2Cdigg%2Cdelicious%2Creddit%2Cslashdot%2Cgoogle_bmarks%2Cblogger%2Ctypepad%2Cstumbleupon%2Cwordpress%2Cwindows_live%2Cnewsvine%2Clinkedin%2Cmyspace%2Ctechnorati"></script>
</div>

</div>
</div>
<!-- end  print-discuss-del.icio.us options -->





<!-- content here -->































<div class="breadcrumb">

  <a href="http://oreilly.com/pub/topic/mac">Mac OS X</a> &gt;
<a href="http://oreilly.com/mac-os-x/excerpts/index.csp">Excerpts</a> &gt;
</div>













	<!-- mega preparse mp:yes -->

<h2>
jRendezvous: Java and Rendezvous Working Together</h2>
by <a href="/pub/au/1258">Seth Ladd</a><br />
07/29/2003

<p></p>

<!--ONJava MPU Ad -->





<p> To Apple's credit, they design with the user in mind. This is true not
    only for their user interface components, but for the internals of their 
    products as well. For instance, beginning with OS X 10.2 (Jaguar), even 
    the networking experience is user friendly. With the introduction of 
    Rendezvous, Apple has introduced the ease of use of AppleTalk to a standards 
    compliant IP network. </p>

<p> While there are no standard development languages for Mac OS X, Java
    developers will feel right at home. The Java runtime and JDK are shipped 
    and ready to run, allowing the vast amount of Java applications and 
    applets to run natively on OS X. The Java &quot;Write Once, Run Anywhere&quot; 
    promise continues to be press on. </p>

<p> With Rendezvous making IP networking simple, and Java making cross platform 
    network programming possible, we see the possibility for a beautiful 
    friendship. An implementation of Rendezvous for Java, called jRendezvous, 
    now allows Java programs running anywhere (not just Mac OS X) to participate 
    in Rendezvous networks. With jRendezvous, Java programs can listen for, 
    and advertise, services on the network with ease. </p>

	<!--
<csperl file="set_book_cover_image">
-->

<!-- sidebar begins -->
<table width="140" border="1" cellspacing="2" cellpadding="10" align="right" style="border: 1px solid #333333; margin: 8px;"><tr>
<td width="140" valign="top" bgcolor="#ffffff" style="border: none;">
<p class="headline">Related Reading</p>
<!--
<csif perl="$cfg->vars('cover_image_url_base')">
-->
<a href="http://oreilly.com/catalog/9780596004002/index.html?CMP=ILL-4GV796923290">

<img src="http://covers.oreilly.com/images/9780596004002/cat.gif">

<!--

<csperl>print $cfg->vars('cover_image_url_cat');</csperl>
-->
</a>
<!--
</csif>
-->
<p class="medlist"><span class="title"><a href="http://oreilly.com/catalog/9780596004002/index.html">Mac OS X for Java Geeks</a></span><strong><br />

By <a href="http://www.oreillynet.com/pub/au/1079">Will Iverson</a></strong>
</p>
<div class="secondary">
<!-- builds links to list in sidebar -->
<!--csperl>
    my @links = split(/(?:\r?\n)+/, ( $DATA{"supporting_links"} || "" ));
    for my $link ( @links ) {
	my ( $name, $url ) = split /=/, $link, 2;	
	next unless $name and $url;
	$url = "http://oreilly.com/catalog/$DATA{'reference'}/$url" unless $url =~ /^\w+:/os;
$url = $url . "?CMP=ILL-4GV796923290";
        if ($name =~ /Table of Contents/) {
           print qq~ <a href="$url">$name</a><br /> \n ~;
        } elsif ($name =~ /Index/) {
           print qq~ <a href="$url">$name</a><br /> \n ~;
        } elsif ($name eq "Author's Article") {
           print qq~ <a href="$url">$name</a><br /> \n ~;
        } elsif ($name =~ /Sample Chapter/) {
           print qq~ <a href="$url">$name</a><br /> \n ~;
        } else {
           print qq~\n~;
        }
    }
</csperl-->

</div>
</td>
</tr></table>
<!-- sidebar ends -->


<h3>Rendezvous Review</h3>

<p> With the release of Jaguar (OS X 10.2), Apple introduced Rendezvous,
    their branding of their Zeroconf implementation. Zeroconf is a set of
    IETF standards for a Zero Configuration IP network. A Zero
    Configuration network means two things. The network itself does not
    need to have a DHCP or DNS server installed for clients to use. Any
    client that connects to the network will obtain an IP address through
    standard negotiation protocols. A Zero Configuration network also
    means that clients can discover services on the network. For instance,
    a client does not need to be preconfigured with an IP address of a
    printer. Through Rendezvous's discovery mechanisms, the client will
    automatically become aware of all Rendezvous-enabled printers on the
    network. It is this second Rendezvous feature we will look at closely
    with jRendezvous. </p>

<p> There is already a great collection of Rendezvous and zeroconf
information available. If you are unfamiliar with either, you might want
to investigate
    these resources: </p>
<ul>
    <li><a href="http://www.zeroconf.org/">IETF's Zeroconf Working Group</a></li>
    <li><a href="http://www.zeroconf.org/Rendezvous/">Apple rendezvous and 
        Zeroconf</a></li>
    <li><a href="http://developer.apple.com/macosx/rendezvous/">Apple Developer 
        - Rendezvous</a></li>
    <li><a href="http://files.dns-sd.org/draft-cheshire-dnsext-dns-sd.txt">DNS-Based 
        Service Discovery</a></li>
</ul>
<h3>Specifying a Service</h3>

<p> Much of what is discussed below concerns either listening for or
advertising
    a service. While a service's implementation is orthogonal to Rendezvous, 
    the way it is named is well specified. Before we look at the classes 
    and interfaces of jRendezvous, it is important to understand Rendezvous's 
    service naming. jRendezvous follows the standards specified in <a href="http://files.dns-sd.org/draft-cheshire-dnsext-dns-sd.txt">DNS-Based 
    Service Discovery</a>, so we will review them now. </p>

<p> Rendezvous services are specified with a Service Instance Name. It is
    constructed from three parts: an instance name, a service name, and 
    a domain name. </p>

<p> The instance name is any arbitrary UTF-8 encoded text. It has a
maximum of 63 octets. The text of the instance name can have any
combination of characters, and usually distinguishes a service from others
within its type. </p>

<p> A service name is specified with an application protocol name and a
    transport protocol name. The protocol name must be registered with <a href="http://www.iana.org/assignments/port-numbers">IANA's 
    assigned application port numbers</a>. An example of an application 
    protocol name is <code>_http</code>. The transport protocol value can 
    be either <code>_tcp</code> or <code>_udp</code>. Notice the underscores 
    preceding the names, they are required. </p>

<p> The domain name is a standard DNS domain name. For instance, both
&quot;brivo.com&quot;
    and &quot;math.dept.university.example.edu&quot; are valid here. Also 
    valid is simply &quot;foo.local.&quot;, which indicates a machine on 
    the local link. </p>

<p> jRendezvous often uses what it calls a type name. It is a combination
    of the service name and a domain name in the form of &quot;local.&quot;. 
    A type name of <code>_http._tcp.local.</code> would identify all instances 
    of HTTP servers running over TCP on the local link. The type name is 
    used when a service browser wishes to search for services of a particular 
    type. </p>

<p> A fully qualified Service Instance Name is formed by combining all
three
    name parts. An example Service Instance Name is <code>Seth's Web
    Server._http._tcp.local.</code>.  A Rendezvous Service advertisement
    includes a server name with the service name. The server name tells
    clients what machine is hosting the service.  While this server name
    resolves to a physical IP address, clients should never cache that
    address. Rendezvous works so well because services may move around on
    the network, even changing IP addresses. Clients should cache the
    Service Instance Name instead, allowing the service the flexibility of
    movement. </p>

<p> <strong>Warning:</strong> jRendezvous, at the time of this writing,
    has a bug regarding the server name of services. In fact, it doesn't 
    support it at all. It assumes the service name is the same as a server 
    name. This might be true for some situations, but for many, it is not 
    a safe assumption. For instance, many different web services may be 
    hosted on a single physical server. &quot;Seth's Web Site&quot; and 
    &quot;Justin's Web Site&quot; are distinct services, but would be hard 
    to tell apart if they had to be named &quot;www&quot;. I have provided 
    a patch for this, so don't worry. </p>

<h3>jRendezvous Overview</h3>

<p> jRendezvous is the work of <a
href="mailto:avh@strangeberry.com">Arthur
    van Hoff</a> while at <a href="http://www.strangeberry.com/">Strangeberry</a>. 
    Its current version, 0.1.2, supports service discovery and registration. 
    It's <a href="http://www.strangeberry.com/java_rendevous.htm">available 
    for download</a> via Strangeberry's public FTP server (though the examples 
    only work with my patched version, see below). jRendezvous is licensed 
    under the <a href="http://www.gnu.org/copyleft/lesser.html">LGPL</a>. 
    This makes it available for both proprietary and open software. </p>

<p> Because of the bug mentioned above, I strongly encourage you to download 
    the patched version of the library. I have provided both the <a
    href="http://www.picklematrix.net/articles/oreilly/jrendezvous/jrendezvous-patched-src.tar.gz">source</a>
    and the <a
    href="http://www.picklematrix.net/articles/oreilly/jrendezvous/jrendezvous-patched.jar">compiled
    jar</a>. The source and jar provided are considered patched to the
    full jRendezvous distribution from Strangeberry. The Strangeberry
    distribution has the license and javadocs. To get the full experience,
    please get the native package, and then the patched sources and
    jar. </p>

<h3>Package, Class, and Interface Tour</h3>

<p> Let's dive into the structure of jRendezvous. Luckily, there are both
    sample programs and tools built on jRendezvous. There is plenty of code 
    to read to gain a deep understanding of this library. </p>

<p> From a user's perspective, there are three main classes that are
interesting.
    We will be looking at the <code>com.strangeberry.rendezvous.Rendezvous</code>, 
    <code>com.strangeberry.rendezvous.ServiceListener</code>, and <code>com.strangeberry.rendezvous.ServiceInfo</code> 
    classes. With just these three classes, a Java program can both advertise 
    and discover services. </p>

<h3>com.strangeberry.rendezvous.Rendezvous</h3>

<p> The <code>Rendezvous</code> class is the main workhorse of the
package.
    To begin using this class, simply create an instance with the default 
    constructor. </p>

<p> <code> Rendezvous rendezvous = new Rendezvous(); </code> </p>

<p> There are three methods provided by the <code>Rendezvous</code> class 
    we will look at. </p>

<ul>
    <li><code>public synchronized void addServiceListener(String type, ServiceListener 
        listener)</code></li>
    <li><code>public void requestServiceInfo(String type, String name)</code></li>
    <li><code>public void registerService(ServiceInfo info)</code></li>
</ul>

<p> The <code>addServiceListener</code> is used to register a
<code>ServiceListener</code>
    to be notified of services arriving and leaving the network. The
    <code>requestServiceInfo</code> method is used to obtain a full
    <code>ServiceInfo</code> object encapsulating a service. And the
    <code>registerService</code> method advertises a local service for the
    network to discover. </p>

<h3>com.strangeberry.rendezvous.ServiceListener</h3>

<p> To be notified of services on the network, create an implementation
    of the <code>com.strangeberry.rendezvous.ServiceListener</code>
    interface and pass it to the <code>rendezvous</code> instance using
    the <code>addServiceListener</code> method. You also need to specify
    the type of the service you want the listener to listen for. </p>

<p> The callbacks from the <code>ServiceListener</code> class include:
</p>

<ul>
    <li><code>public void addService(Rendezvous rendezvous, String type, 
        String name)</code></li>
    <li><code>public void resolveService(Rendezvous rendezvous, String type, 
        String name, ServiceInfo info</code></li>
    <li><code>public void removeService(Rendezvous rendezvous, String type, 
        String name)</code></li>
</ul>

<p> The <code>addService</code> method is called by the
<code>rendezvous</code>
    object when a service is first discovered on the network. All that is
    known at this point is the type and its instance name. To fully
    resolve the service, use the <code>requestServiceInfo</code> method
    from the passed <code>rendezvous</code> object. Once the service is
    resolved and more information is known, the
    <code>resolveService</code> method is called giving your listener a
    fully populated <code>ServiceInfo</code> object. The
    <code>removeService</code> callback is called when a service has been
    removed from the network. </p>

<p> To see the <code>ServiceListener</code> in action, there's a small
sample
    included in the jRendezvous download. The example class is
    <code>com.strangeberry.rendezvous.sample.SampleListener</code>.  It
    demonstrates a simple listener registered with a
    <code>Rendezvous</code> object. Luckily, jRendezvous doesn't need any
    other third party libraries on the classpath. To run this sample, use
    the following command (assuming you have the java executable on the
    path) from the directory where you unzipped the jRendezvous
    distribution. </p>

<p> <code> java -cp jrendezvous.jar com.strangeberry.rendezvous.sample.SampleListener  </code> </p>

<p> The class, by default, listens for advertisements to the
<code>_http._tcp.local.</code>
    type. If you have OS X's default Apache installation running, you should 
    see the users' home WWW directories being advertised. This is due to 
    the mod_rendezvous_apple Apache module bundled by Apple starting at 
    OS X 10.2.4. This example class outputs the Rendezvous network conversations 
    so you can watch and learn what is going on under the hood. </p>

<h3>com.strangeberry.rendezvous.ServiceInfo</h3>

<p> The final class we will look at is the <code>ServiceInfo</code> class. 
    It's an encapsulation of a Service. The <code>rendezvous</code> object
    will advertise a <code>ServiceInfo</code> object to the network. Note
    that an instance of the <code>ServiceInfo</code> doesn't have to be
    the same object as the service itself. The service's advertisement and
    the service can be two separate things. It is more useful to have
    their lifecycles connected, though. If the service leaves the network,
    the <code>ServiceInfo</code> object should cease to be advertised as
    well.
</p>
<p> Remember the bug mentioned above? The native version of the class did 
    not allow a server name to be declared. The following constructor is 
    recommended and can only be found in the patched version. </p>
<p> <code>public ServiceInfo(String type, String name, InetAddress interface, 
    int port, Hashtable props, String serverName)</code> </p>
<p> To sum up the included Javadocs, this constructor creates a <code>ServiceInfo</code> 
    object from a service type name, an instance name, the interface the 
    service is running on, the port the service is listening to, a hashtable 
    of service specific properties, and the hostname of the server where 
    the service lives. An example follows: </p>
<pre>
<code>
Hashtable props = new Hashtable();
props.put("path", "/index.html");

ServiceInfo info = new ServiceInfo(
        &quot;_http._tcp.local.&quot;, &quot;Seth's Web Site&quot;,
        InetAddress.getByName("foo.example.com"), 80, props,
        "foo.example.com");
</code>
</pre>
<p> The jRendezvous download provides <code>com.strangeberry.rendezvous.sample.SampleRegistration</code> 
    as a sample service registration to study. When run, it advertises a 
    local web server (that may or may not actually be there) on port 80. 
    Using the following command, you should see a &quot;Hello, World&quot; 
    web server in Safari's Rendezvous bookmarks. If a page is actually served 
    is dependent on a web server running on that port. This illustrates 
    the potential separation of the service advertisement from the service 
    itself. </p>
<p> <code>java -cp jrendezvous.jar com.strangeberry.rendezvous.sample.SampleRegistration</code> 
</p>

<table id="page-break" width="100%" border="0" cellspacing="0" cellpadding="0" style="clear:left;"><tr><td><p class="secondary">
Pages: <b>1</b>, <a href="/pub/a/mac/2003/07/29/jrendezvous.html?page=2">2</a>
</p></td><td><p class="secondary" align="right">
<a href="/pub/a/mac/2003/07/29/jrendezvous.html?page=2">
Next Page<img src="/images/arrows/arrows-66.gif" border="0" alt="arrow" width="12" height="13" hspace="2" vspace="0" align="baseline"></a></p></td></tr></table>







<!-- end article content -->

<!-- OST promo -->

<!-- end O'Reilly Learning box -->



<!-- end content -->


<img src="/images/trans.gif" alt=" " width="400" height="1" /><br />



<br /><br />


<!-- end content -->



</div><!-- #article -->

<div id="related">

<!-- search -->
<div class="sidebar-item">


</div>


<div class="sidebar-item">
<h3>Tagged Articles</h3>
<div class="sidebar-item-content tags">
<p class="addtags"><a class="delicious" title="Post to del.icio.us." href="http://del.icio.us/post" onclick="window.open('http://del.icio.us/post?v=4&partner=orn&noui&jump=close&url='+encodeURIComponent(location.href)+'&title='+encodeURIComponent(document.title),'delicious','toolbar=no,width=700,height=400'); return false;">Post to del.icio.us</a><br /><br />
This article has been tagged:</p>

<div class="tabber">
<div class="tabbertab"><h2>zeroconf</h2> <p style="padding-top:5px;">Articles that share the tag <em>zeroconf</em>:</p><p><a href="http://www.onjava.com/pub/a/onjava/excerpt/bonjour_ch08/index1.html">Zero Configuration Networking: Using the Java APIs, Part 2</a> <span class="tagcount">(6 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2003/07/29/jrendezvous.html">jRendezvous: Java and Rendezvous Working Together</a> <span class="tagcount">(4 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2004/08/31/osx_java.html">A Rendezvous with Java</a> <span class="tagcount">(3 tags)</span></p><p><a href="http://www.oreillynet.com/pub/a/wireless/2002/12/20/zeroconf.html">Understanding Zeroconf and Multicast DNS</a> <span class="tagcount">(3 tags)</span></p><p><a href="http://webservices.xml.com/pub/a/ws/2003/06/24/rendezvous.html">Rendezvous with Web Services</a> <span class="tagcount">(3 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=zeroconf">View All</a></p></div><div class="tabbertab"><h2>java</h2> <p style="padding-top:5px;">Articles that share the tag <em>java</em>:</p><p><a href="http://www.onjava.com/pub/a/onjava/2006/08/16/profiling-with-eclipse-callisto.html">Profiling Your Applications with Eclipse Callisto</a> <span class="tagcount">(113 tags)</span></p><p><a href="http://www.onjava.com/pub/a/onjava/2005/09/14/what-is-a-portlet.html">What Is a Portlet</a> <span class="tagcount">(101 tags)</span></p><p><a href="http://www.onjava.com/pub/a/onjava/2005/01/12/xpath.html">Parsing an XML Document with XPath</a> <span class="tagcount">(79 tags)</span></p><p><a href="http://www.onjava.com/pub/a/onjava/2005/04/27/restweb.html">The REST of the Web</a> <span class="tagcount">(75 tags)</span></p><p><a href="http://www.onjava.com/pub/a/onjava/2005/02/09/eclipse.html">Eclipse Plugins Exposed, Part 1: A First Glimpse</a> <span class="tagcount">(69 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=java">View All</a></p></div><div class="tabbertab"><h2>apple</h2> <p style="padding-top:5px;">Articles that share the tag <em>apple</em>:</p><p><a href="http://www.macdevcenter.com/pub/a/mac/2002/10/22/macforunix.html">Top Ten Mac OS X Tips for Unix Geeks</a> <span class="tagcount">(126 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2005/07/22/backup.html">Automated Backups on Tiger Using rsync</a> <span class="tagcount">(32 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2005/05/06/dashboard.html">Build a Dashboard Widget</a> <span class="tagcount">(24 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2005/05/13/tiger_tips.html">20 Cool Tiger Features You Might Not Have Heard About</a> <span class="tagcount">(24 tags)</span></p><p><a href="http://www.macdevcenter.com/pub/a/mac/2005/04/26/tiger.html">Housecleaning Tips for Tiger</a> <span class="tagcount">(21 tags)</span></p><p class="more"><a href="http://www.oreillynet.com/tags.csp?tag=apple">View All</a></p></div></div></div></div>

<!-- sponsored developer resources -->
<div class="sidebar-item">
<h3>Sponsored Resources</h3>
<div class="sidebar-item-content">

<ul style="margin: 0 0 0 1.2em;padding: 0;">
<li><a href="http://digitalmedia.oreilly.com/lightroom/">Inside Lightroom</a></li>
</ul>

</div>
</div>


<div class="sidebar-item">
<h3>Related to this Article</h3>
<div class="sidebar-item-content">
<p style="font-size:10px;padding:0 0 10px 0;margin:0;">
<a href="http://www.oreilly.com/catalog/9781933671680/?CMP=ILL-4GV796923290&amp;ATT=/mac/2003/07/29/jrendezvous.html/"><img src="http://covers.oreilly.com/images/9781933671680/bkt.gif" class="aleft" style="padding-bottom:10px;" border="0" alt="Take Control of Passwords in Mac OS X" /></a>

<a href="http://www.oreilly.com/catalog/9781933671680/?CMP=ILL-4GV796923290&amp;ATT=/mac/2003/07/29/jrendezvous.html"><b>
Take Control of Passwords in Mac OS X
</b></a><br />

October 2010<br />
<span class="price">
$10.00 USD
</span></p>
<div class="clear"></div>
<p style="font-size:10px;padding:0 0 10px 0;margin:0;">
<a href="http://www.oreilly.com/catalog/9781615420902/?CMP=ILL-4GV796923290&amp;ATT=/mac/2003/07/29/jrendezvous.html/"><img src="http://covers.oreilly.com/images/9781615420902/bkt.gif" class="aleft" style="padding-bottom:10px;" border="0" alt="Take Control of PDFpen 5" /></a>

<a href="http://www.oreilly.com/catalog/9781615420902/?CMP=ILL-4GV796923290&amp;ATT=/mac/2003/07/29/jrendezvous.html"><b>
Take Control of PDFpen 5
</b></a><br />

October 2010<br />
<span class="price">
$10.00 USD
</span></p>
<div class="clear"></div>
</div>
</div>




<div style="text-align:center;background-color:#eee;padding-top:10px;padding-bottom:10px;">
<img src="/images/ads/advertisement.gif" alt="Advertisement" style="padding-bottom:10px;" /><br />
<div align="center">
<!-- Network Skyscraper Ad -->

<!--JavaScript Tag // Tag for network 5159: TechVertical // Website: O'ReillyNet // Page: O'ReillyNet // Placement: ros_160x600 (425844) // created at: Oct 9, 2008 6:10:29 PM-->
<script language="javascript"><!--
document.write('<scr'+'ipt language="javascript1.1" src="http://adserver.adtechus.com/addyn/3.0/5159/425844/0/154/ADTECH;loc=100;target=_blank;key=key1+key2+key3+key4;grp=[group];misc='+new Date().getTime()+'"></scri'+'pt>');
//-->
</script><noscript><a href="http://adserver.adtechus.com/adlink/3.0/5159/425844/0/154/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" target="_blank"><img src="http://adserver.adtechus.com/adserv/3.0/5159/425844/0/154/ADTECH;loc=300;key=key1+key2+key3+key4;grp=[group]" border="0" width="160" height="600"></a></noscript>

<!-- End of JavaScript Tag -->

<!-- End ad -->
</div>
</div>

</div><!-- #related -->

</div><!-- #page-content -->

<!-- footer -->
<div id="footer" class="noindex">

<table border="0" style="padding-top:20px; padding-bottom:20px;">

<tbody>


<tr><td align="left" width="25%" valign="top" style="padding-left: 20px; padding-right: 20px;">
<a href="http://oreilly.com/"><img height="35" border="0" width="155" src="http://cdn.oreilly.com/images/standard/oreilly-logo-footer.gif" alt="O'Reilly Media"/></a>
<br/><br/>
&copy;2010, O'Reilly Media, Inc.<br/>(707) 827-7000 / (800) 998-9938<br/> All trademarks and registered trademarks appearing on oreilly.com are the property of their respective owners. </td>

<td valign="top" class="footercol1">
<ul>
<li><a href="http://oreilly.com/about/"><strong>About O'Reilly</strong></a></li>
<li><a href="http://oreilly.com/academic/">Academic Solutions</a></li>
<li><a href="http://oreilly.com/contact.html">Contacts</a></li>
<li><a href="http://oreilly.com/oreilly/cs/">Customer Service</a></li>
<li><a href="http://oreilly.com/jobs/">Careers</a></li>
<li><a href="http://press.oreilly.com/">Press Room</a></li>
<li><a href="http://oreilly.com/oreilly/privacy.csp">Privacy Policy</a></li>
<li><a href="http://oreilly.com/terms/">Terms of Service</a></li>
<li><a href="http://oreilly.com/oreilly/author/intro.csp">Writing for O'Reilly</a></li>
</ul>
</td>

<td valign="top" class="footercol2">
<ul>
<li><a href="http://oreilly.com/community/"><strong>Community</strong></a></li>
<li><a href="http://oreilly.com/authors/">Authors</a></li>
<li><a href="http://forums.oreilly.com/">Forums</a></li>
<li><a href="https://members.oreilly.com/">Membership</a></li>
<li><a href="http://elists.oreilly.com/">Newsletters</a></li>
<li><a href="http://oreilly.com/feeds/">RSS Feeds</a></li>
<li><a href="http://ug.oreilly.com/">User Groups</a></li>
</ul>
</td>

<td valign="top" class="footercol3">
<ul>
<li><strong>More O'Reilly Sites</strong></li>
<li><a href="http://igniteshow.com/">igniteshow.com</a></li>
<li><a href="http://makerfaire.com/">makerfaire.com</a></li>
<li><a href="http://makezine.com/">makezine.com</a></li>
<li><a href="http://craftzine.com">craftzine.com</a></li>
<li><a href="http://labs.oreilly.com">labs.oreilly.com</a></li>
</ul>

<ul>
<li><strong>Partner Sites</strong></li>
<li><a href="https://www.x.com/community/ppx/devzone">PayPal Developer Zone</a></li>
<li><a href="http://insideria.com">InsideRIA</a></li>
<li><a href="http://www.forbes.com/oreillyinsights/">O'Reilly Insights on Forbes.com</a></li>
</ul>
</td>
</tr>
</tbody>
</table>


</div>

<!-- autocomplete scripts -->
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.6.0/build/utilities/utilities.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.6.0/build/datasource/datasource-min.js"></script>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/yui/2.6.0/build/autocomplete/autocomplete-min.js"></script>
<script type="text/javascript" src="http://content.atomz.com/sp1003bcf0/publish/autocomplete_data.js?sp_js_cache_ver=3"></script>

<!-- MyBuys Page Initialization -->
<script type="text/javascript">
mybuys.initPage();
</script>
<!-- End MyBuys Page Initialization -->

<!-- #footer -->
</div></body><!-- #page -->


</html>



